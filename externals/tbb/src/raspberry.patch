--- include/tbb/machine/gcc_armv7.h.orig	2016-06-12 10:35:59.000000000 +0200
+++ include/tbb/machine/gcc_armv7.h	2016-06-12 10:37:11.000000000 +0200
@@ -27,9 +27,9 @@
 #endif
 
 //TODO: is ARMv7 is the only version ever to support?
-#if !(__ARM_ARCH_7A__)
-#error compilation requires an ARMv7-a architecture.
-#endif
+// #if !(__ARM_ARCH_7A__)
+// #error compilation requires an ARMv7-a architecture.
+// #endif
 
 #include <sys/param.h>
 #include <unistd.h>
@@ -53,7 +53,12 @@
 
 
 #define __TBB_compiler_fence()    __asm__ __volatile__("": : :"memory")
+// See http://stackoverflow.com/questions/30131032/compile-opencv-with-tbb-on-raspberry-pi-2
+#if (__ARM_ARCH_7A__)
 #define __TBB_full_memory_fence() __asm__ __volatile__("dmb ish": : :"memory")
+#else
+#define __TBB_full_memory_fence() 0xffff0fa0
+#endif
 #define __TBB_control_consistency_helper() __TBB_full_memory_fence()
 #define __TBB_acquire_consistency_helper() __TBB_full_memory_fence()
 #define __TBB_release_consistency_helper() __TBB_full_memory_fence()
